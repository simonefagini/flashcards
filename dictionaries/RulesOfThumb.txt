1.0 Rule of thumb:

If there's no preposition, "dich" is likely correct (direct action on "you").

If a dative preposition is involved (like mit (with), von (from), zu (to)), then you use "dir."